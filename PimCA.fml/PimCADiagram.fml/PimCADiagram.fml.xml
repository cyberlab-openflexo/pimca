<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="SYL-5" virtualModelClass="org.openflexo.foundation.fml.VirtualModel" modelVersion="2.0" uri="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCADiagram.fml" version="0.1" name="PimCADiagram" description="FML-controlled diagram representing a PimCA model" userID="SYL" flexoID="5">
  <FlexoConcept id="SYL-20" name="BasicMachineryGR" userID="SYL" flexoID="20">
    <Inspector id="SYL-16" inspectorTitle="BasicMachineryGR" userID="SYL" flexoID="16" />
    <ShapeRole id="SYL-25" previewHeight="64.0" previewY="68.0" previewX="93.0" previewWidth="64.0" exampleLabel="Machinery" metamodelElementReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_2" cloningStrategy="Clone" cardinality="ZeroOne" name="shape" userID="SYL" flexoID="25">
      <GRSpec id="SYL-197" featureName="label" value="machinery.name" userID="SYL" flexoID="197" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="SYL-26" virtualModelInstance="model" flexoConceptTypeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Machinery" cloningStrategy="Reference" cardinality="ZeroOne" name="machinery" userID="SYL" flexoID="26" />
    <DropScheme id="SYL-21" target="top" skipConfirmationPanel="false" name="dropBasicMachineryGRAtTopLevel" width="800" label="create_basic_machinery" height="600" userID="SYL" flexoID="21">
      <BehaviourControlGraph_Sequence id="SYL-27" userID="SYL" flexoID="27">
        <ControlGraph2_AssignationAction id="SYL-23" assign="machinery" ownerContext="controlGraph2" userID="SYL" flexoID="23">
          <AssignableAction_AddFlexoConceptInstance id="SYL-24" creationSchemeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Machinery.create(name,kind)" receiver="model" userID="SYL" flexoID="24">
            <AddFlexoConceptInstanceParameter id="SYL-36" paramName="name" value="parameters.name" userID="SYL" flexoID="36" />
            <AddFlexoConceptInstanceParameter id="SYL-49" paramName="kind" value="parameters.kind" userID="SYL" flexoID="49" />
          </AssignableAction_AddFlexoConceptInstance>
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="SYL-22" assign="shape" ownerContext="controlGraph1" userID="SYL" flexoID="22">
          <AssignableAction_AddShape id="SYL-28" container="topLevel" receiver="diagram" userID="SYL" flexoID="28" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="SYL-37" isRequired="true" widget="TEXT_FIELD" name="name" type="java.lang.String" userID="SYL" flexoID="37" />
      <GenericBehaviourParameter id="SYL-50" widget="DROPDOWN" name="kind" type="org.openflexo.foundation.fml.FlexoEnumType&lt;http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#MachineryType&gt;" userID="SYL" flexoID="50" />
    </DropScheme>
  </FlexoConcept>
  <FlexoConcept id="SYL-75" name="PerformerGR" userID="SYL" flexoID="75">
    <Inspector id="SYL-71" inspectorTitle="PerformerGR" userID="SYL" flexoID="71" />
    <ShapeRole id="SYL-89" previewHeight="64.0" previewY="68.0" previewX="93.0" previewWidth="64.0" exampleLabel="Forme" metamodelElementReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_3" cloningStrategy="Clone" cardinality="ZeroOne" name="forme" userID="SYL" flexoID="89">
      <GRSpec id="SYL-198" featureName="label" value="performer.name" userID="SYL" flexoID="198" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="SYL-90" virtualModelInstance="model" flexoConceptTypeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Performer" cloningStrategy="Reference" cardinality="ZeroOne" name="performer" userID="SYL" flexoID="90" />
    <DropScheme id="SYL-76" target="top" skipConfirmationPanel="false" name="dropPerformerGRAtTopLevel" width="800" label="dropPerformerGRAtTopLevel" height="600" userID="SYL" flexoID="76">
      <BehaviourControlGraph_Sequence id="SYL-91" userID="SYL" flexoID="91">
        <ControlGraph2_AssignationAction id="SYL-78" assign="performer" ownerContext="controlGraph2" userID="SYL" flexoID="78">
          <AssignableAction_AddFlexoConceptInstance id="SYL-80" creationSchemeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Performer.create(name)" receiver="model" userID="SYL" flexoID="80">
            <AddFlexoConceptInstanceParameter id="SYL-87" paramName="name" value="parameters.name" userID="SYL" flexoID="87" />
          </AssignableAction_AddFlexoConceptInstance>
        </ControlGraph2_AssignationAction>
        <ControlGraph1_AssignationAction id="SYL-77" assign="forme" ownerContext="controlGraph1" userID="SYL" flexoID="77">
          <AssignableAction_AddShape id="SYL-79" container="topLevel" receiver="diagram" userID="SYL" flexoID="79" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="SYL-92" isRequired="true" widget="TEXT_FIELD" name="name" type="java.lang.String" userID="SYL" flexoID="92" />
    </DropScheme>
  </FlexoConcept>
  <FlexoConcept id="SYL-110" name="NetworkGR" userID="SYL" flexoID="110">
    <Inspector id="SYL-106" inspectorTitle="NetworkGR" userID="SYL" flexoID="106" />
    <ShapeRole id="SYL-112" previewHeight="39.200085097330074" previewY="80.39995745133496" previewX="73.71169618955403" previewWidth="102.57660762089193" exampleLabel="" metamodelElementReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_4" cloningStrategy="Clone" cardinality="ZeroOne" name="shape" userID="SYL" flexoID="112">
      <GRSpec id="SYL-175" featureName="label" value="" userID="SYL" flexoID="175" />
    </ShapeRole>
    <ShapeRole id="SYL-113" previewHeight="32.0" previewY="7.137458498590295" previewX="5.0" previewWidth="32.0" exampleLabel="" metamodelElementReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_5" cloningStrategy="Clone" cardinality="ZeroOne" name="icon" userID="SYL" flexoID="113">
      <ParentShapeRole idref="SYL-112" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="SYL-114" virtualModelInstance="model" flexoConceptTypeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Network" cloningStrategy="Reference" cardinality="ZeroOne" name="network" userID="SYL" flexoID="114" />
    <ShapeRole id="SYL-210" previewHeight="46.27491699718059" previewY="0.0" previewX="32.0" previewWidth="166.25502895154835" exampleLabel="Network" metamodelElementReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_6" cloningStrategy="Clone" cardinality="ZeroOne" name="label" userID="SYL" flexoID="210">
      <ParentShapeRole idref="SYL-112" />
      <GRSpec id="SYL-199" featureName="label" value="network.name" userID="SYL" flexoID="199" />
    </ShapeRole>
    <DropScheme id="SYL-111" target="top" skipConfirmationPanel="false" name="dropNetworkGRAtTopLevel" width="800" label="dropNetworkGRAtTopLevel" height="600" userID="SYL" flexoID="111">
      <BehaviourControlGraph_Sequence id="SYL-115" userID="SYL" flexoID="115">
        <ControlGraph2_Sequence id="SYL-116" ownerContext="controlGraph2" userID="SYL" flexoID="116">
          <ControlGraph2_Sequence id="SYL-213" ownerContext="controlGraph2" userID="SYL" flexoID="213">
            <ControlGraph2_AssignationAction id="SYL-117" assign="network" ownerContext="controlGraph2" userID="SYL" flexoID="117">
              <AssignableAction_AddFlexoConceptInstance id="SYL-118" creationSchemeURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#Network.create(name,aNetworkType)" receiver="model" userID="SYL" flexoID="118">
                <AddFlexoConceptInstanceParameter id="SYL-123" paramName="name" value="parameters.name" userID="SYL" flexoID="123" />
                <AddFlexoConceptInstanceParameter id="SYL-124" paramName="aNetworkType" value="parameters.networkType" userID="SYL" flexoID="124" />
              </AssignableAction_AddFlexoConceptInstance>
            </ControlGraph2_AssignationAction>
            <ControlGraph1_AssignationAction id="SYL-211" assign="label" ownerContext="controlGraph1" userID="SYL" flexoID="211">
              <AssignableAction_AddShape id="SYL-212" container="shape" receiver="diagram" userID="SYL" flexoID="212" />
            </ControlGraph1_AssignationAction>
          </ControlGraph2_Sequence>
          <ControlGraph1_AssignationAction id="SYL-119" assign="icon" ownerContext="controlGraph1" userID="SYL" flexoID="119">
            <AssignableAction_AddShape id="SYL-120" container="shape" receiver="diagram" userID="SYL" flexoID="120" />
          </ControlGraph1_AssignationAction>
        </ControlGraph2_Sequence>
        <ControlGraph1_AssignationAction id="SYL-121" assign="shape" ownerContext="controlGraph1" userID="SYL" flexoID="121">
          <AssignableAction_AddShape id="SYL-122" container="topLevel" receiver="diagram" userID="SYL" flexoID="122" />
        </ControlGraph1_AssignationAction>
      </BehaviourControlGraph_Sequence>
      <GenericBehaviourParameter id="SYL-160" isRequired="true" widget="TEXT_FIELD" name="name" type="java.lang.String" userID="SYL" flexoID="160" />
      <GenericBehaviourParameter id="SYL-159" isRequired="true" widget="DROPDOWN" name="networkType" type="org.openflexo.foundation.fml.FlexoEnumType&lt;http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml#NetworkType&gt;" userID="SYL" flexoID="159" />
    </DropScheme>
  </FlexoConcept>
  <UseModelSlotDeclaration id="0" modelSlotClass="org.openflexo.technologyadapter.diagram.TypedDiagramModelSlot" userID="SYL" flexoID="-1" />
  <UseModelSlotDeclaration id="1" modelSlotClass="org.openflexo.foundation.fml.rt.FMLRTVirtualModelInstanceModelSlot" userID="SYL" flexoID="-1" />
  <Inspector id="SYL-1" inspectorTitle="PimCADiagram" userID="SYL" flexoID="1" />
  <TypedDiagramModelSlot id="SYL-7" templateDiagramReference="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/ExampleDiagram.diagram#SYL_1" metaModelURI="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="diagram" userID="SYL" flexoID="7">
    <FMLDiagramPaletteElementBinding id="SYL-60" paletteElementId="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/Palette.palette#BasicMachinery" userID="SYL" flexoID="60">
      <DropScheme idref="SYL-21" />
      <FMLDiagramPaletteElementBindingParameter id="SYL-81" value="&quot;Machinery&quot;" userID="SYL" flexoID="81" />
      <FMLDiagramPaletteElementBindingParameter id="SYL-82" userID="SYL" flexoID="82" />
    </FMLDiagramPaletteElementBinding>
    <FMLDiagramPaletteElementBinding id="SYL-70" paletteElementId="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/Palette.palette#PerformerGR" userID="SYL" flexoID="70">
      <DropScheme idref="SYL-76" />
      <FMLDiagramPaletteElementBindingParameter id="SYL-93" value="&quot;Performer&quot;" userID="SYL" flexoID="93" />
    </FMLDiagramPaletteElementBinding>
    <FMLDiagramPaletteElementBinding id="SYL-105" paletteElementId="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification/Palette.palette#NetworkGR" userID="SYL" flexoID="105">
      <DropScheme idref="SYL-111" />
    </FMLDiagramPaletteElementBinding>
  </TypedDiagramModelSlot>
  <FMLRTVirtualModelInstanceModelSlot id="SYL-12" virtualModelURI="http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml" isRequired="true" cloningStrategy="Reference" cardinality="ZeroOne" name="model" userID="SYL" flexoID="12" />
  <CreationScheme id="SYL-6" name="init" width="800" label="init" height="600" userID="SYL" flexoID="6">
    <BehaviourControlGraph_Sequence id="SYL-15" userID="SYL" flexoID="15">
      <ControlGraph2_AssignationAction id="SYL-14" assign="model" ownerContext="controlGraph2" userID="SYL" flexoID="14">
        <AssignableAction_ExpressionAction id="SYL-13" expression="parameters.model" userID="SYL" flexoID="13" />
      </ControlGraph2_AssignationAction>
      <ControlGraph1_AssignationAction id="SYL-8" assign="diagram" ownerContext="controlGraph1" userID="SYL" flexoID="8">
        <AssignableAction_CreateDiagram id="SYL-9" diagramSpecificationURI="http://ensta-bretagne.fr/cyber/pimca/PimCADiagramSpecification" diagramName="&quot;diagram&quot;" resourceCenter="this.resourceCenter" relativePath="/Diagrams" dynamicRelativePath="&quot;/PimCADiagrams&quot;" resourceName="&quot;diagram&quot;" userID="SYL" flexoID="9" />
      </ControlGraph1_AssignationAction>
    </BehaviourControlGraph_Sequence>
    <GenericBehaviourParameter id="SYL-10" widget="TEXT_FIELD" name="diagramName" type="java.lang.String" userID="SYL" flexoID="10" />
    <GenericBehaviourParameter id="SYL-11" widget="CUSTOM_WIDGET" name="model" type="org.openflexo.foundation.fml.VirtualModelInstanceType&lt;http://ensta-bretagne.fr/cyber/pimca/PimCA.fml/PimCAModel.fml&gt;" userID="SYL" flexoID="11" />
  </CreationScheme>
</VirtualModel>
